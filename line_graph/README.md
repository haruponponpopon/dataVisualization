# 折線グラフの描画

## 参考プログラム

[Stacked Density and Quantile Graphs](http://bl.ocks.org/NPashaP/113f7fea0751fa1513e1)

## 実装の説明

`data.js`の内容が層グラフとして出力される．

凡例をクリックして選択すると，選択したジャンルだけを比較することができる．

## データ構造

datasは各ジャンルにおける累計の店舗数の変異

- 開店 ... +1
- 閉店 ... -1

データフォーマットver.1

```javaScript
ShopData = {
    genre_num: [ジャンル総数],
    min_date: [日付最小値], 
    max_date: [日付最大値],
    genre: [ジャンル1, ジャンル2, ジャンル3...], 
    dist: [
                [(2011年1月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                [(2011年2月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                    ...
                [(2021年10月のデータ)ジャンル1, ジャンル2, ジャンル3...]
        ]
}
```

データフォーマットver.2

```javaScript
ShopData = {
    genre_num: [ジャンル総数],
    data_num: [年月の数],
    min_date: "(日付最小値)", 
    max_date: "(日付最大値)",
    genre: [ジャンル1, ジャンル2, ジャンル3...], 
    dist: {
            "ジャンル1": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
            "ジャンル2": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
            ...
        }
}
```

データフォーマット(都道府県ごと)

```javaScript
ShopPrefectureData = {
    genre_num: [ジャンル総数],
    min_date: "(日付最小値)", 
    max_date: "(日付最大値)",
    genre: [ジャンル1, ジャンル2, ジャンル3...], 
    dist: {
            "北海道":[
                [(2011年1月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                [(2011年2月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                    ...
                [(2021年10月のデータ)ジャンル1, ジャンル2, ジャンル3...]
                ],
            "青森県":[
                [(2011年1月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                [(2011年2月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                    ...
                [(2021年10月のデータ)ジャンル1, ジャンル2, ジャンル3...]
                ],
            ...
            "沖縄県":[
                [(2011年1月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                [(2011年2月のデータ)ジャンル1, ジャンル2, ジャンル3...],
                    ...
                [(2021年10月のデータ)ジャンル1, ジャンル2, ジャンル3...]
                ]
        }
}
```

データフォーマットver2(都道府県ごと)

```javaScript
ShopPrefectureData = {
    genre_num: [ジャンル総数],
    data_num: [年月の数],
    min_date: "(日付最小値)", 
    max_date: "(日付最大値)",
    genre: [ジャンル1, ジャンル2, ジャンル3...], 
    dist: {
            "北海道":{
                "ジャンル1": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
                "ジャンル2": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
                ...
                    },
            "青森県":{
                "ジャンル1": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
                "ジャンル2": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
                ...
                },
            ...
            "沖縄県":{
                "ジャンル1": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
                "ジャンル2": [(2011年1月のデータ), (2011年2月のデータ)... (2021年10月のデータ)],
                ...
                },
        }
}
```
